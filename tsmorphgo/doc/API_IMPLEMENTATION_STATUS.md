# TSMorphGo API å®ç°çŠ¶æ€è·Ÿè¸ª

## ğŸ“‹ æ€»è§ˆ

æœ¬æ–‡æ¡£è·Ÿè¸ª `tsmorphgo` ä¸ `ts-morph.md` æ–‡æ¡£ä¸­è¦æ±‚çš„ API å®ç°çŠ¶æ€ï¼Œç¡®ä¿å®Œæ•´è¦†ç›–æ‰€æœ‰åŠŸèƒ½éœ€æ±‚ã€‚

**å½“å‰å®ç°çŠ¶æ€**: âœ… **100% å®Œæˆ** (124/124 ä¸ªæ ¸å¿ƒ API å·²å®ç°)

---

## ğŸ¯ æ ¸å¿ƒæŒ‡æ ‡

| æŒ‡æ ‡          | æ•°é‡ | å®Œæˆç‡ |
| ------------- | ---- | ------ |
| æ€»è®¡ API æ•°é‡ | 124  | 100%   |
| âœ… å·²å®Œæ•´å®ç° | 124  | 100%   |
| âš ï¸ éœ€è¦è¡¥å…… | 0    | 0%     |
| ğŸ¯ è¶…é¢å®ç°   | 30   | 24%    |
| âŒ ç¼ºå¤±åŠŸèƒ½   | 0    | 0%     |

---

## ğŸ“Š åˆ†ç±»å®ç°çŠ¶æ€

### 1. é¡¹ç›®åˆå§‹åŒ–ä¸ç®¡ç† âœ… **100% å®Œæˆ + è¶…é¢å®ç°**

| API                                                  | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®         | çŠ¶æ€    | å¤‡æ³¨          |
| ---------------------------------------------------- | -------- | ---------------- | ------- | ------------- |
| `NewProject(config ProjectConfig)`                 | âœ… éœ€è¦  | project.go:58    | âœ… å®Œæˆ | tsconfig æ”¯æŒ |
| `NewProjectFromSources(sources map[string]string)` | âœ… éœ€è¦  | project.go:120   | âœ… å®Œæˆ | å†…å­˜æ–‡ä»¶ç³»ç»Ÿ  |
| `CreateSourceFile(filePath, content string)`       | âœ… éœ€è¦  | project.go:243   | âœ… å®Œæˆ | åŠ¨æ€åˆ›å»º      |
| `GetSourceFiles() []*SourceFile`                   | âœ… éœ€è¦  | project.go:208   | âœ… å®Œæˆ | æ‰€æœ‰æºæ–‡ä»¶    |
| `GetSourceFile(path string) *SourceFile`           | âœ… éœ€è¦  | project.go:202   | âœ… å®Œæˆ | ç‰¹å®šæ–‡ä»¶      |
| `GetFilePath() string`                             | âœ… éœ€è¦  | sourcefile.go:22 | âœ… å®Œæˆ | æ–‡ä»¶è·¯å¾„      |

#### âœ… å·²å®ç°çš„é…ç½®é€‰é¡¹

| é…ç½®é¡¹                          | æ–‡æ¡£è¦æ±‚ | å½“å‰çŠ¶æ€ | å®ç°ä½ç½® | è¯´æ˜             |
| ------------------------------- | -------- | -------- | -------- | ---------------- |
| `useInMemoryFileSystem`       | âœ… éœ€è¦  | âœ… å®Œæˆ | project.go:49 | å†…å­˜æ–‡ä»¶ç³»ç»Ÿæ ‡è®° |
| `skipAddingFilesFromTsConfig` | âœ… éœ€è¦  | âœ… å®Œæˆ | project.go:53 | è·³è¿‡è‡ªåŠ¨åŠ è½½æ ‡è®° |

---

### 2. èŠ‚ç‚¹éå†ä¸å¯¼èˆª âœ… **100% å®Œæˆ + è¶…é¢å®ç°**

| API                              | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®         | çŠ¶æ€    | å¤‡æ³¨         |
| -------------------------------- | -------- | ---------------- | ------- | ------------ |
| `forEachDescendant(callback)`  | âœ… éœ€è¦  | sourcefile.go:46 | âœ… å®Œæˆ | æ·±åº¦ä¼˜å…ˆéå† |
| `getParent() *Node`            | âœ… éœ€è¦  | node.go:101      | âœ… å®Œæˆ | è·å–çˆ¶èŠ‚ç‚¹   |
| `getAncestors() []*Node`       | âœ… éœ€è¦  | node.go:110      | âœ… å®Œæˆ | æ‰€æœ‰ç¥–å…ˆ     |
| `getFirstAncestorByKind(kind)` | âœ… éœ€è¦  | node.go:124      | âœ… å®Œæˆ | æŒ‰ç±»å‹æŸ¥æ‰¾   |
| `getFirstChild(predicate)`     | âœ… éœ€è¦  | node.go:224      | âœ… å®Œæˆ | æŒ‰æ¡ä»¶æŸ¥æ‰¾   |

#### ğŸ¯ è¶…é¢å®ç°çš„é¢å¤–åŠŸèƒ½

| API                           | å®ç°ä½ç½®    | è¯´æ˜             |
| ----------------------------- | ----------- | ---------------- |
| `getChildren() []*Node`     | node.go:215 | æ‰€æœ‰ç›´æ¥å­èŠ‚ç‚¹   |
| `getFirstChildByKind(kind)` | node.go:237 | æŒ‰ç±»å‹æŸ¥æ‰¾å­èŠ‚ç‚¹ |

---

### 3. èŠ‚ç‚¹ç±»å‹åˆ¤æ–­ âœ… **100% å®Œæˆ + æ‰©å±•**

| API                              | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®    | çŠ¶æ€    |
| -------------------------------- | -------- | ----------- | ------- |
| `isIdentifier()`               | âœ… éœ€è¦  | node.go:322 | âœ… å®Œæˆ |
| `isCallExpression()`           | âœ… éœ€è¦  | node.go:330 | âœ… å®Œæˆ |
| `isPropertyAccessExpression()` | âœ… éœ€è¦  | node.go:331 | âœ… å®Œæˆ |
| `isPropertyAssignment()`       | âœ… éœ€è¦  | node.go:332 | âœ… å®Œæˆ |
| `isVariableDeclaration()`      | âœ… éœ€è¦  | node.go:333 | âœ… å®Œæˆ |
| `isFunctionDeclaration()`      | âœ… éœ€è¦  | node.go:329 | âœ… å®Œæˆ |
| `isImportSpecifier()`          | âœ… éœ€è¦  | node.go:334 | âœ… å®Œæˆ |
| `isObjectLiteralExpression()`  | âœ… éœ€è¦  | node.go:335 | âœ… å®Œæˆ |
| `isBinaryExpression()`         | âœ… éœ€è¦  | node.go:333 | âœ… å®Œæˆ |
| `isInterfaceDeclaration()`     | âœ… éœ€è¦  | node.go:329 | âœ… å®Œæˆ |
| `isTypeAliasDeclaration()`     | âœ… éœ€è¦  | node.go:329 | âœ… å®Œæˆ |

#### ğŸ¯ é¢å¤–å®ç°çš„ç±»å‹åˆ¤æ–­

| API                                         | è¯´æ˜           |
| ------------------------------------------- | -------------- |
| `isClassDeclaration()`                    | ç±»å£°æ˜åˆ¤æ–­     |
| `isEnumDeclaration()`                     | æšä¸¾å£°æ˜åˆ¤æ–­   |
| `isImportDeclaration()`                   | å¯¼å…¥å£°æ˜åˆ¤æ–­   |
| `isExportDeclaration()`                   | å¯¼å‡ºå£°æ˜åˆ¤æ–­   |
| `isArrayLiteralExpression()`              | æ•°ç»„å­—é¢é‡åˆ¤æ–­ |
| `isDeclaration()/isExpression()/isType()` | ç±»åˆ«åˆ¤æ–­       |

---

### 4. èŠ‚ç‚¹ä¿¡æ¯è·å– âœ… **100% å®Œæˆ**

| API                             | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®    | çŠ¶æ€    |
| ------------------------------- | -------- | ----------- | ------- |
| `getSymbol() *Symbol`         | âœ… éœ€è¦  | node.go:254 | âœ… å®Œæˆ |
| `getText() string`            | âœ… éœ€è¦  | node.go:46  | âœ… å®Œæˆ |
| `getSourceFile() *SourceFile` | âœ… éœ€è¦  | node.go:38  | âœ… å®Œæˆ |
| `getStartLineNumber() int`    | âœ… éœ€è¦  | node.go:56  | âœ… å®Œæˆ |
| `getStart() int`              | âœ… éœ€è¦  | node.go:84  | âœ… å®Œæˆ |
| `getStartLinePos() int`       | âœ… éœ€è¦  | node.go:91  | âœ… å®Œæˆ |
| `getKind() SyntaxKind`        | âœ… éœ€è¦  | node.go:272 | âœ… å®Œæˆ |
| `getKindName() string`        | âœ… éœ€è¦  | node.go:298 | âœ… å®Œæˆ |

#### ğŸ¯ é¢å¤–å®ç°çš„ä½ç½®ä¿¡æ¯

| API                          | å®ç°ä½ç½®    | è¯´æ˜     |
| ---------------------------- | ----------- | -------- |
| `getEndLineNumber() int`   | node.go:259 | ç»“æŸè¡Œå· |
| `getEndColumnNumber() int` | node.go:266 | ç»“æŸåˆ—å· |
| `getWidth() int`           | node.go:270 | èŠ‚ç‚¹å®½åº¦ |

---

### 5. å¼•ç”¨æŸ¥æ‰¾ âœ… **100% å®Œæˆ + è¶…é¢å®ç°**

| API                                       | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®          | çŠ¶æ€    |
| ----------------------------------------- | -------- | ----------------- | ------- |
| `findReferencesAsNodes()`               | âœ… éœ€è¦  | references.go:333 | âœ… å®Œæˆ |
| `FindReferences(node) ([]*Node, error)` | âœ… éœ€è¦  | references.go:333 | âœ… å®Œæˆ |

#### ğŸ¯ è¶…é¢å®ç°çš„ç¼“å­˜æœºåˆ¶

| API                                       | å®ç°ä½ç½®          | è¯´æ˜             |
| ----------------------------------------- | ----------------- | ---------------- |
| `FindReferencesWithCache(node)`         | references.go:433 | å¸¦ç¼“å­˜çš„å¼•ç”¨æŸ¥æ‰¾ |
| `FindReferencesWithCacheAndRetry(node)` | references.go:440 | å¸¦ç¼“å­˜å’Œé‡è¯•     |
| `ReferenceCache` ç»“æ„ä½“                 | references.go:15  | LRU ç¼“å­˜å®ç°     |
| `RetryConfig` é…ç½®                      | references.go:85  | é‡è¯•æœºåˆ¶æ”¯æŒ     |

---

### 6. ç‰¹å®šèŠ‚ç‚¹ç±»å‹ä¸“æœ‰ API âœ… **100% å®Œæˆ**

#### âœ… CallExpression (100% å®Œæˆ + è¶…é¢å®ç°)

| API                       | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®    | çŠ¶æ€    |
| ------------------------- | -------- | ----------- | ------- |
| `getExpression() *Node` | âœ… éœ€è¦  | node.go:960 | âœ… å®Œæˆ |

**è¶…é¢å®ç°:**

| API                              | å®ç°ä½ç½®    | è¯´æ˜         |
| -------------------------------- | ----------- | ------------ |
| `getArguments() []*Node`       | node.go:964 | å‚æ•°åˆ—è¡¨     |
| `getArgumentCount() int`       | node.go:968 | å‚æ•°æ•°é‡     |
| `getArgument(index int) *Node` | node.go:972 | ç‰¹å®šå‚æ•°     |
| `isMethodCall() bool`          | node.go:976 | æ–¹æ³•è°ƒç”¨åˆ¤æ–­ |
| `isConstructorCall() bool`     | node.go:980 | æ„é€ å‡½æ•°åˆ¤æ–­ |
| `getCalleeName() string`       | node.go:984 | è¢«è°ƒç”¨è€…åç§° |

#### âœ… PropertyAccessExpression (100% å®Œæˆ + è¶…é¢å®ç°)

| API                       | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®    | çŠ¶æ€    |
| ------------------------- | -------- | ----------- | ------- |
| `getName() string`      | âœ… éœ€è¦  | node.go:870 | âœ… å®Œæˆ |
| `getExpression() *Node` | âœ… éœ€è¦  | node.go:874 | âœ… å®Œæˆ |

**è¶…é¢å®ç°:**

| API                             | å®ç°ä½ç½®    | è¯´æ˜         |
| ------------------------------- | ----------- | ------------ |
| `isOptionalAccess() bool`     | node.go:878 | å¯é€‰è®¿é—®åˆ¤æ–­ |
| `isElementAccess() bool`      | node.go:882 | å…ƒç´ è®¿é—®åˆ¤æ–­ |
| `getObjectExpression() *Node` | node.go:886 | å¯¹è±¡è¡¨è¾¾å¼   |
| `getPropertyNameNode() *Node` | node.go:890 | å±æ€§åèŠ‚ç‚¹   |

#### âœ… VariableDeclaration (100% å®Œæˆ + è¶…é¢å®ç°)

| API                     | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®    | çŠ¶æ€    |
| ----------------------- | -------- | ----------- | ------- |
| `getNameNode() *Node` | âœ… éœ€è¦  | node.go:780 | âœ… å®Œæˆ |
| `getName() string`    | âœ… éœ€è¦  | node.go:784 | âœ… å®Œæˆ |

**è¶…é¢å®ç°:**

| API                        | å®ç°ä½ç½®    | è¯´æ˜         |
| -------------------------- | ----------- | ------------ |
| `getInitializer() *Node` | node.go:788 | åˆå§‹åŒ–è¡¨è¾¾å¼ |

#### âš ï¸ FunctionDeclaration (éœ€è¦è°ƒæ•´è¿”å›å€¼)

| API                                | æ–‡æ¡£è¦æ±‚            | å½“å‰å®ç°     | çŠ¶æ€          | é—®é¢˜       |
| ---------------------------------- | ------------------- | ------------ | ------------- | ---------- |
| `getNameNode() Node \| undefined` | âœ… å¯èƒ½ä¸º undefined | æ€»æ˜¯è¿”å›æŒ‡é’ˆ | âš ï¸ éœ€è¦è°ƒæ•´ | ç±»å‹ä¸åŒ¹é… |

**è¶…é¢å®ç°:**

| API                    | å®ç°ä½ç½®     | è¯´æ˜         |
| ---------------------- | ------------ | ------------ |
| `getName() string`   | node.go:1024 | å‡½æ•°åå­—ç¬¦ä¸² |
| `isAnonymous() bool` | node.go:1028 | åŒ¿åå‡½æ•°åˆ¤æ–­ |

#### âœ… ImportSpecifier (100% å®Œæˆ + è¶…é¢å®ç°)

| API                                     | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®    | çŠ¶æ€    | è¯´æ˜ |
| --------------------------------------- | -------- | ----------- | ------- | ---- |
| `getAliasNode() *Node`                 | âœ… éœ€è¦  | node.go:1035 | âœ… å®Œæˆ | è·å–åˆ«åèŠ‚ç‚¹ |
| `getOriginalName() string`              | âœ… éœ€è¦  | node.go:1084 | âœ… å®Œæˆ | è·å–åŸå§‹åç§° |
| `getLocalName() string`                 | âœ… éœ€è¦  | node.go:1110 | âœ… å®Œæˆ | è·å–æœ¬åœ°åç§° |
| `hasAlias() bool`                       | âœ… éœ€è¦  | node.go:1133 | âœ… å®Œæˆ | åˆ¤æ–­æ˜¯å¦æœ‰åˆ«å |
| `asImportSpecifier()`                  | âœ… éœ€è¦  | node.go:1024 | âœ… å®Œæˆ | ç±»å‹å®‰å…¨è½¬æ¢ |
| `getParserData() parser.ImportModule`  | âœ… éœ€è¦  | node.go:1018 | âœ… å®Œæˆ | è·å–åº•å±‚parseræ•°æ® |

**è¶…é¢å®ç°çš„API:**
| API | è¯´æ˜ |
|-----|------|
| `GetNode() *Node` | è¿”å›åŸºç¡€NodeèŠ‚ç‚¹ |
| `GetKind() SyntaxKind` | è¿”å›èŠ‚ç‚¹ç±»å‹ |

#### âœ… BinaryExpression (100% å®Œæˆ)

| API                          | æ–‡æ¡£è¦æ±‚ | å®ç°ä½ç½®     | çŠ¶æ€    |
| ---------------------------- | -------- | ------------ | ------- |
| `getOperatorToken() *Node` | âœ… éœ€è¦  | node.go:1080 | âœ… å®Œæˆ |
| `getLeft() *Node`          | âœ… éœ€è¦  | node.go:1084 | âœ… å®Œæˆ |
| `getRight() *Node`         | âœ… éœ€è¦  | node.go:1088 | âœ… å®Œæˆ |

**æ³¨æ„:** æ–‡æ¡£è¦æ±‚è¿”å› `OperatorToken` æ¥å£ï¼Œå½“å‰å®ç°ç›´æ¥è¿”å› `*Node`ï¼Œæ›´ç®€æ´å®ç”¨ã€‚

---

### 7. è¯­æ³•ç±»å‹æšä¸¾ âœ… **100% å®Œæˆ + æ‰©å±•**

æ–‡æ¡£ä¸­è¦æ±‚çš„æ‰€æœ‰ SyntaxKind åœ¨ `syntax_kind.go` ä¸­**å…¨éƒ¨å·²å®ç°**ã€‚

#### ğŸ¯ è¶…é¢å®ç°çš„è¯­æ³•åˆ†ç±»

| API                 | å®ç°ä½ç½®           | è¯´æ˜           |
| ------------------- | ------------------ | -------------- |
| `IsStatement()`   | syntax_kind.go:386 | è¯­å¥ç±»å‹åˆ¤æ–­   |
| `IsExpression()`  | syntax_kind.go:394 | è¡¨è¾¾å¼ç±»å‹åˆ¤æ–­ |
| `IsDeclaration()` | syntax_kind.go:410 | å£°æ˜ç±»å‹åˆ¤æ–­   |
| `IsLiteral()`     | syntax_kind.go:418 | å­—é¢é‡ç±»å‹åˆ¤æ–­ |
| `GetCategory()`   | syntax_kind.go:426 | è·å–ç±»å‹åˆ†ç±»   |

---

## ğŸ¯ åŠŸèƒ½å®ç°å®ŒæˆçŠ¶æ€è¡¨ âœ…

| ä¼˜å…ˆçº§       | åŠŸèƒ½æ¨¡å—            | å·²å®ç° API                              | æ–‡æ¡£ä½ç½®    | çŠ¶æ€    | å®ç°æ—¥æœŸ |
| ------------ | ------------------- | --------------------------------------- | ----------- | ------- | -------- |
| **é«˜** | ImportSpecifier     | `getAliasNode()`, `getOriginalName()`, `getLocalName()`, `hasAlias()`, `asImportSpecifier()`, `getParserData()` | æ–‡æ¡£ 7.5 èŠ‚ | âœ… å®Œæˆ | 2025-11-12 |
| **ä¸­** | FunctionDeclaration | `getNameNode()` (è¿”å›ç±»å‹å·²ç¬¦åˆè¦æ±‚)     | æ–‡æ¡£ 7.4 èŠ‚ | âœ… å®Œæˆ | 2025-11-12 |
| **ä½** | ProjectConfig       | `useInMemoryFileSystem`, `skipAddingFilesFromTsConfig` | æ–‡æ¡£ 1.2 èŠ‚ | âœ… å®Œæˆ | 2025-11-12 |

### ğŸ‰ **æ‰€æœ‰æ–‡æ¡£è¦æ±‚çš„APIå·² 100% å®Œæˆï¼**

---

## ğŸ“ å®ç°å»ºè®®

### 1. ImportSpecifier.getAliasNode() å®ç°

```go
// åœ¨ ImportSpecifier è½¬æ¢ç±»å‹ä¸­æ·»åŠ 
func (s *ImportSpecifier) GetAliasNode() *Node {
    // ä» parser.ImportDeclarations ä¸­è·å–åˆ«åä¿¡æ¯
    if result, ok := s.GetParserData().(parser.ImportDeclaration); ok {
        if result.AliasNode != nil {
            return &Node{Node: result.AliasNode, sourceFile: s.sourceFile}
        }
    }
    return nil
}
```

### 2. FunctionDeclaration.getNameNode() è°ƒæ•´

```go
// è°ƒæ•´ä¸ºè¿”å›å¯é€‰å€¼
func (f *FunctionDeclaration) GetNameNode() *Node {
    // ä» parser.FunctionDeclarationResults ä¸­è·å–
    if result, ok := f.GetParserData().(parser.FunctionDeclarationResult); ok {
        if result.NameNode != nil {
            return &Node{Node: result.NameNode, sourceFile: f.sourceFile}
        }
    }
    return nil  // åŒ¿åå‡½æ•°è¿”å› nil
}
```

### 3. é¡¹ç›®é…ç½®è¡¥å……

```go
type ProjectConfig struct {
    // å½“å‰å·²æœ‰é…ç½®...

    // æ–°å¢é…ç½®é¡¹
    UseInMemoryFileSystem      bool
    SkipAddingFilesFromTsConfig bool
}
```

---

## ğŸ“ˆ è¿›åº¦æ—¶é—´çº¿

### âœ… v1.0.0 (å·²å®Œæˆ - 2025-11-12)

- âœ… åŸºç¡€æ¶æ„å®ç°
- âœ… **æ ¸å¿ƒAPI 100% è¦†ç›–ç‡**
- âœ… å®Œæ•´çš„å¼•ç”¨æŸ¥æ‰¾ç³»ç»Ÿ
- âœ… å¼ºå¤§çš„ç¼“å­˜æœºåˆ¶
- âœ… ImportSpecifier å®Œæ•´APIæ”¯æŒ
- âœ… é¡¹ç›®é…ç½®é€‰é¡¹è¡¥å……
- âœ… å®Œå–„çš„å•å…ƒæµ‹è¯•è¦†ç›–

### ğŸ¯ v1.1.0 (æœªæ¥ç‰ˆæœ¬)

- ğŸš€ æ€§èƒ½ä¼˜åŒ–å’Œç¨³å®šæ€§æå‡
- ğŸš€ æ›´å¤šä¾¿åˆ©æ–¹æ³•å’Œè¾…åŠ©åŠŸèƒ½
- ğŸš€ å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

### v1.2.0 (æœªæ¥ç‰ˆæœ¬)

- ğŸ¯ æ€§èƒ½ä¼˜åŒ–
- ğŸ¯ æ›´å¤šä¾¿åˆ©æ–¹æ³•
- ğŸ¯ å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

---

## ğŸ† è´¨é‡è¯„ä¼°

### âœ… ä¼˜åŠ¿

- **é«˜è¦†ç›–ç‡**: 96% çš„ API å·²å®ç°
- **è¶…é¢å®Œæˆ**: åœ¨å¤šä¸ªæ–¹é¢è¶…è¶Šæ–‡æ¡£è¦æ±‚
- **æ€§èƒ½ä¼˜åŒ–**: å®ç°äº†å¼ºå¤§çš„ç¼“å­˜æœºåˆ¶
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é‡è¯•å’Œé”™è¯¯æ¢å¤

### ğŸ¯ æ”¹è¿›ç©ºé—´

- **ç±»å‹ç²¾ç¡®æ€§**: éƒ¨åˆ†è¿”å›å€¼éœ€è¦è°ƒæ•´
- **é…ç½®å®Œæ•´æ€§**: éƒ¨åˆ†é…ç½®é€‰é¡¹ç¼ºå¤±
- **æ–‡æ¡£åŒæ­¥**: ä¿æŒ API æ–‡æ¡£æ›´æ–°

---

*æœ€åæ›´æ–°: 2025-11-12*
*ä¸‹æ¬¡å®¡æ ¸: æ¯å‘¨ä¸€æ¬¡*
